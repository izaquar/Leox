<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*ORIGINAL GOODGER + changes; up to line 224 it's standard reST stylesheet
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:date: $Date: 2006/10/19 13:23:15 $
:version: $Revision: 1.2 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
*/

/* EKR 10/19/06 */
/* some browsers require imported rules to precede all rulesets */
@import url(leo_rst.css);
@import url(silver_city.css);

.first {
  margin-top: 0 }

.last {
  margin-bottom: 0 }

a.toc-backref {
  text-decoration: none ;
  color: black }

dd {
  margin-bottom: 0.5em }

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning, div.admonition {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

div.hint p.admonition-title, div.important p.admonition-title,
div.note p.admonition-title, div.tip p.admonition-title,
div.admonition p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em }

div.footer, div.header {
  font-size: smaller }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 0em 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.line-block {
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;}
  /*background-color: #eeeeee }*/
  /*for some reason i can't overide in an import*/

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

table {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.citation {
  border-left: solid thin gray ;
  padding-left: 0.5ex }

table.docinfo {
  margin: 2em 4em }

table.footnote {
  border-left: solid thin black ;
  padding-left: 0.5ex }

td, th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

th.docinfo-name, th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap }

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100% }

/*for some reason, the following isn't being overridden by the imports
at the end of this style sheet so I've commented it out*/
/*tt {
  background-color: #eeeeee }*/

ul.auto-toc {
  list-style-type: none }
  
hr { /* EKR */
  width: 100%;
  height: 1pt;
  color: gray;
}



</style>
</head>
<body>
<div class="document">


<!-- rst3: filename: html\FAQ.html -->
<!-- August 30, 2005 -->
<p><a class="reference" href="testimonials.html"><img alt="back" src="arrow_lt.gif" /></a> <a class="reference" href="front.html"><img alt="leo" src="leo.gif" /></a> <a class="reference" href="install.html"><img alt="next" src="arrow_rt.gif" /></a></p>
<div class="section">
<h1><a class="toc-backref" href="#id1" id="faq" name="faq">FAQ</a></h1>
<p>This is Leo's Frequently Asked Questions document.</p>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#faq" id="id1" name="id1">FAQ</a><ul>
<li><a class="reference" href="#learning-to-use-leo" id="id2" name="id2">Learning to use Leo</a><ul>
<li><a class="reference" href="#what-s-the-best-way-to-learn-to-use-leo" id="id3" name="id3">What's the best way to learn to use Leo?</a></li>
<li><a class="reference" href="#why-should-i-use-clones" id="id4" name="id4">Why should I use clones?</a></li>
<li><a class="reference" href="#which-should-i-use-root-trees-or-file-trees" id="id5" name="id5">Which should I use: &#64;root trees or &#64;file trees?</a></li>
<li><a class="reference" href="#when-is-using-a-section-better-than-using-a-method" id="id6" name="id6">When is using a section better than using a method?</a></li>
<li><a class="reference" href="#when-is-deleting-a-node-dangerous" id="id7" name="id7">When is deleting a node dangerous?</a></li>
</ul>
</li>
<li><a class="reference" href="#how-should-i-use-leo-with-cvs" id="id8" name="id8">How should I use Leo with CVS?</a></li>
<li><a class="reference" href="#using-derived-files" id="id9" name="id9">Using derived files</a><ul>
<li><a class="reference" href="#how-do-i-inhibit-sentinels-in-derived-files" id="id10" name="id10">How do I inhibit sentinels in derived files?</a></li>
<li><a class="reference" href="#how-do-i-prevent-leo-from-expanding-sections" id="id11" name="id11">How do I prevent Leo from expanding sections?</a></li>
<li><a class="reference" href="#how-can-i-create-javascript-comments" id="id12" name="id12">How can I create Javascript comments?</a></li>
<li><a class="reference" href="#how-can-i-disable-php-comments" id="id13" name="id13">How can I disable PHP comments?</a></li>
<li><a class="reference" href="#how-can-i-use-leo-with-unsuppoorted-languages" id="id14" name="id14">How can I use Leo with unsuppoorted languages?</a></li>
<li><a class="reference" href="#how-do-i-make-derived-files-start-with-a-shebang-line" id="id15" name="id15">How do I make derived files start with a shebang line?</a></li>
<li><a class="reference" href="#how-do-i-use-leo-to-create-cweb-files" id="id16" name="id16">How do I use Leo to create CWEB files?</a></li>
<li><a class="reference" href="#can-file-trees-contain-material-not-in-the-derived-file" id="id17" name="id17">Can &#64;file trees contain material not in the derived file?</a></li>
<li><a class="reference" href="#how-can-i-use-leo-with-older-c-compilers" id="id18" name="id18">How can I use Leo with older C compilers</a></li>
<li><a class="reference" href="#why-can-t-i-use-ignore-directives-in-thin-and-file-trees" id="id19" name="id19">Why can't I use &#64;ignore directives in &#64;thin and &#64;file trees?</a></li>
</ul>
</li>
<li><a class="reference" href="#customizing-leo" id="id20" name="id20">Customizing Leo</a><ul>
<li><a class="reference" href="#how-can-i-add-support-for-a-new-language" id="id21" name="id21">How can I add support for a new language?</a></li>
<li><a class="reference" href="#how-do-i-submit-a-plugin" id="id22" name="id22">How do I submit a plugin?</a></li>
<li><a class="reference" href="#how-do-i-add-a-new-menu-item-from-a-plugin" id="id23" name="id23">How do I add a new menu item from a plugin?</a></li>
<li><a class="reference" href="#how-can-i-use-leo-s-legacy-key-bindings" id="id24" name="id24">How can I use Leo's legacy key bindings?</a></li>
<li><a class="reference" href="#how-can-i-enable-and-disable-support-for-psyco" id="id25" name="id25">How can I enable and disable support for psyco?</a></li>
</ul>
</li>
<li><a class="reference" href="#tips-and-techniques" id="id26" name="id26">Tips and techniques</a><ul>
<li><a class="reference" href="#how-can-i-use-leo-to-develop-leo-itself" id="id27" name="id27">How can I use Leo to develop Leo itself?</a></li>
<li><a class="reference" href="#how-can-i-import-many-files-at-once" id="id28" name="id28">How can I import many files at once?</a></li>
<li><a class="reference" href="#how-can-i-use-two-copies-of-leo-to-advantage" id="id29" name="id29">How can I use two copies of Leo to advantage?</a></li>
<li><a class="reference" href="#how-can-i-display-graphics-in-leo" id="id30" name="id30">How can I display graphics in Leo?</a></li>
<li><a class="reference" href="#how-can-i-create-a-template-leo-file" id="id31" name="id31">How can I create a template .leo file?</a></li>
<li><a class="reference" href="#how-can-i-show-leo-files-with-excel" id="id32" name="id32">How can I show Leo files with Excel?</a></li>
<li><a class="reference" href="#how-can-i-reuse-button-nodes-in-multiple-files" id="id33" name="id33">How can I reuse &#64;button nodes in multiple files?</a></li>
</ul>
</li>
<li><a class="reference" href="#trouble-shooting" id="id34" name="id34">Trouble shooting</a><ul>
<li><a class="reference" href="#nothing-or-almost-nothing-happens-when-i-start-leo-what-should-i-do" id="id35" name="id35">Nothing (or almost nothing) happens when I start Leo.  What should I do?</a></li>
<li><a class="reference" href="#i-can-t-run-leo-from-a-cvs-sandbox-what-s-going-on" id="id36" name="id36">I can't run Leo from a cvs sandbox.  What's going on?</a></li>
<li><a class="reference" href="#leo-s-recent-files-menu-doesn-t-work-from-a-cvs-shandbox-what-s-going-on" id="id37" name="id37">Leo's Recent Files menu doesn't work from a cvs shandbox.  What's going on?</a></li>
<li><a class="reference" href="#how-can-i-use-python-s-pdb-debugger-with-leo" id="id38" name="id38">How can I use Python's pdb debugger with Leo?</a></li>
<li><a class="reference" href="#how-can-i-run-leo-from-a-console-window" id="id39" name="id39">How can I run Leo from a console window?</a></li>
<li><a class="reference" href="#some-characters-in-derived-files-look-funny-what-can-i-do" id="id40" name="id40">Some characters in derived files look funny. What can I do?</a></li>
<li><a class="reference" href="#some-characters-are-garbled-when-importing-files-what-can-i-do" id="id41" name="id41">Some characters are garbled when importing files. What can I do?</a></li>
<li><a class="reference" href="#i-can-t-write-imported-files-what-s-going-on" id="id42" name="id42">I can't write Imported files.  What's going on?</a></li>
<li><a class="reference" href="#can-i-scroll-the-outline-pane-with-the-mouse-wheel" id="id43" name="id43">Can I scroll the outline pane with the mouse wheel?</a></li>
<li><a class="reference" href="#leo-is-hanging-on-my-linux-box-what-should-i-do" id="id44" name="id44">Leo is hanging on my Linux box.  What should I do?</a></li>
<li><a class="reference" href="#control-shift-backspace-doesn-t-work-what-should-i-do" id="id45" name="id45">Control-Shift backspace doesn't work.  What should I do?</a></li>
<li><a class="reference" href="#error-messages-from-the-rst3-plugin-aren-t-helpful-what-can-i-do" id="id46" name="id46">Error messages from the rst3 plugin aren't helpful. What can I do?</a></li>
<li><a class="reference" href="#the-new-python-decorator-syntax-causes-problems-what-can-i-do" id="id47" name="id47">The new Python decorator syntax causes problems.  What can I do?</a></li>
<li><a class="reference" href="#i-get-weird-results-when-defining-unicode-strings-in-scripts-what-is-going-on" id="id48" name="id48">I get weird results when defining unicode strings in scripts.  What is going on?</a></li>
<li><a class="reference" href="#i-can-not-enter-non-ascii-characters-what-can-i-do" id="id49" name="id49">I can not enter non-ascii characters.  What can I do?</a></li>
<li><a class="reference" href="#leo-doesn-t-recognize-commands-with-the-caps-lock-key-down" id="id50" name="id50">Leo doesn't recognize commands with the caps-lock key down</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<!-- Links used in this document... -->
<!-- - - - - - External links. -->
<!-- - - - - - Relative links into Leo's documentation. -->
<!-- - - - - - References to the glossary: the glossary now contains references to the tutorial. -->
<!-- WARNING: image targets may not have upper case letters! -->
<div class="section">
<h2><a class="toc-backref" href="#id2" id="learning-to-use-leo" name="learning-to-use-leo">Learning to use Leo</a></h2>
<div class="section">
<h3><a class="toc-backref" href="#id3" id="what-s-the-best-way-to-learn-to-use-leo" name="what-s-the-best-way-to-learn-to-use-leo">What's the best way to learn to use Leo?</a></h3>
<p>First, read the <a class="reference" href="intro.html">tutorial</a>. This will be enough to get you started if you just
want to use Leo as an <a class="reference" href="glossary.html#outliner">outliner</a>. If you intend to use Leo for programming, read
the <a class="reference" href="intro.html#quick-start-for-programmers">Quick start for programmers</a>, then look at Leo's source code in the file <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt>.
Spend 5 or 10 minutes browsing through the outline. Don't worry about details;
just look for the following common usage patterns:</p>
<ul class="simple">
<li>The (Projects) tree shows how to use clones to represent tasks.</li>
<li>Study <tt class="docutils literal"><span class="pre">&#64;file</span> <span class="pre">leoNodes.py</span></tt>.
It shows how to define more than one class in single file.</li>
<li>Most other files show how to use a single <tt class="docutils literal"><span class="pre">&#64;others</span></tt> directive to define one class.</li>
<li>Most methods are defined using <tt class="docutils literal"><span class="pre">&#64;others</span></tt>, <em>not</em> section definition nodes.</li>
</ul>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id4" id="why-should-i-use-clones" name="why-should-i-use-clones">Why should I use clones?</a></h3>
<p>You will lose much of Leo's power if you don't use clones.
See <a class="reference" href="intro.html#clones-views">Clones &amp; views</a> for full details.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id5" id="which-should-i-use-root-trees-or-file-trees" name="which-should-i-use-root-trees-or-file-trees">Which should I use: &#64;root trees or &#64;file trees?</a></h3>
<p>Use <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees (including <tt class="docutils literal"><span class="pre">&#64;thin</span></tt> trees) unless you are <em>sure</em> you must
have the extra flexibility of <a class="reference" href="glossary.html#root">&#64;root</a> trees.
Indeed, <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees are much easier to use than <a class="reference" href="glossary.html#root">&#64;root</a> trees:</p>
<ul class="simple">
<li><a class="reference" href="glossary.html#file-trees">&#64;file</a> trees use less markup than <a class="reference" href="glossary.html#root">&#64;root</a> trees.
In particular, the <a class="reference" href="glossary.html#others">&#64;others directive</a> is valid only within <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees.</li>
<li>You must explicitly <a class="reference" href="glossary.html#tangle">tangle</a> and <a class="reference" href="glossary.html#untangle">untangle</a> <a class="reference" href="glossary.html#root">&#64;root</a> trees using the <a class="reference" href="commands.html#tangling-an-outline-producing-derived-files">Tangle and Untangle</a> commands.</li>
</ul>
<p>However, <a class="reference" href="glossary.html#root">&#64;root</a> trees are more flexible than <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees:</p>
<ul class="simple">
<li><a class="reference" href="glossary.html#sections">Sections</a> may be defined anywhere within <a class="reference" href="glossary.html#root">&#64;root</a> trees.
Moreover, the <a class="reference" href="glossary.html#unit">&#64;unit</a> <a class="reference" href="glossary.html#directive">directive</a> expands the scope of section definitions in <a class="reference" href="glossary.html#root">&#64;root</a> trees
so that a section may be referenced in several <a class="reference" href="glossary.html#root">&#64;root</a> trees.</li>
<li>The meaning of section definitions in <a class="reference" href="glossary.html#root">&#64;root</a> trees are independent of their position within the tree.</li>
</ul>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id6" id="when-is-using-a-section-better-than-using-a-method" name="when-is-using-a-section-better-than-using-a-method">When is using a section better than using a method?</a></h3>
<p>Use methods for any code that is used (called or referenced) more than once.</p>
<p><a class="reference" href="glossary.html#sections">Sections</a> are convenient in the following circumstances:</p>
<ul>
<li><p class="first">When you want to refer to snippets of code the can not be turned into methods.
For example, many plugins start with the code like this:</p>
<pre class="literal-block">
&lt;&lt; docstring &gt;&gt;
&lt;&lt; imports &gt;&gt;
&lt;&lt; version history &gt;&gt;
&lt;&lt; globals &gt;&gt;
</pre>
<p>None of these sections could be replaced by methods.</p>
</li>
<li><p class="first">When you want to refer to a snippet of code that shares local variables with the enclosing code.
This is surprisingly easy and safe to do, <em>provided</em> the section is used only in one place.
<a class="reference" href="glossary.html#section-names">Section names</a> in such contexts can be clearer than method names.  For example:</p>
<pre class="literal-block">
&lt;&lt; init ivars for writing &gt;&gt;
</pre>
</li>
</ul>
<p>In short, I create sections when convenient,
and convert them to functions or methods if they need to be used in several places.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id7" id="when-is-deleting-a-node-dangerous" name="when-is-deleting-a-node-dangerous">When is deleting a node dangerous?</a></h3>
<p>A <strong>dangerous</strong> delete is a deletion of a node so that all the data in the node is deleted <em>everywhere</em> in an outline.  The data is gone, to be retrieved only via undo or via backups.  It may not be obvious which deletes are dangerous in an outline containing clones.  Happily, there is a very simple rule of thumb:</p>
<pre class="literal-block">
Deleting a non-cloned node is *always* dangerous.
Deleting a cloned node is *never* dangerous.
</pre>
<p>We could also consider a delete to be dangerous <strong>if it results in a node being omitted from a derived file.</strong>  This can happen as follows.  Suppose we have the following outline (As usual, A' indicates that A is marked with a clone mark):</p>
<pre class="literal-block">
- &#64;thin spam.py
    - A'
        - B
- Projects
    - A'
        - B
</pre>
<p>Now suppose we clone B, and move the clone so the tree looks like this:</p>
<pre class="literal-block">
- &#64;thin spam.py
    - A'
        - B'
- Projects
    - A'
        - B'
    - B'
</pre>
<p>If (maybe much later), we eliminate B' as a child of A will get:</p>
<pre class="literal-block">
- &#64;thin spam.py
    - A'
- Projects
    - A'
    - B
</pre>
<p>B has not been destroyed, but B is gone from &#64;thin spam.py! So in this sense deleting a clone node can also be called dangerous.</p>
</div>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id8" id="how-should-i-use-leo-with-cvs" name="how-should-i-use-leo-with-cvs">How should I use Leo with CVS?</a></h2>
<p>Using <a class="reference" href="glossary.html#thin-trees">&#64;thin</a> trees can eliminate most problems with using Leo in cvs environments:</p>
<ul>
<li><p class="first">Developers should use <a class="reference" href="glossary.html#thin-trees">&#64;thin</a> trees to create derived files in any kind of cooperative environment.</p>
</li>
<li><p class="first">The cvs repository contains &quot;reference&quot; .leo files.
These reference files should containing nothing but <tt class="docutils literal"><span class="pre">&#64;thin</span></tt> nodes.
Reference files will change only when new derived files get added to the project.</p>
<p><strong>Important</strong>:
Leo's <a class="reference" href="http://sourceforge.net/cvs/?group_id=3458">cvs repository</a> contains the <em>reference</em> versions of the following .leo files:
<tt class="docutils literal"><span class="pre">LeoPyRef.leo</span></tt> and <tt class="docutils literal"><span class="pre">LeoPluginsRef.leo</span></tt>.
However,  Leo's distributions contain the <em>non-reference</em> versions of those files:
<tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt> and <tt class="docutils literal"><span class="pre">LeoPlugins.leo</span></tt>.
These two files have many <tt class="docutils literal"><span class="pre">&#64;thin</span></tt> nodes.
There is no reference file for <tt class="docutils literal"><span class="pre">test.leo</span></tt> even though it contains <tt class="docutils literal"><span class="pre">&#64;thin</span> <span class="pre">leoTest.py</span></tt>.
It would be clumsy to use testRef.leo, and there is less need to do so.</p>
</li>
<li><p class="first">Developers will use local copies of reference files for their own work.
For example, instead of using <tt class="docutils literal"><span class="pre">LeoPyRef.leo</span></tt> directly,
I use a copy called <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt>.
My local copy can contain nodes other than <tt class="docutils literal"><span class="pre">&#64;thin</span></tt> nodes.</p>
</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id9" id="using-derived-files" name="using-derived-files">Using derived files</a></h2>
<div class="section">
<h3><a class="toc-backref" href="#id10" id="how-do-i-inhibit-sentinels-in-derived-files" name="how-do-i-inhibit-sentinels-in-derived-files">How do I inhibit sentinels in derived files?</a></h3>
<p>You have two options, depending on whether you want to be able to use sections
or not.</p>
<ul class="simple">
<li>Use <a class="reference" href="glossary.html#nosent">&#64;nosent</a> trees.
Files derived from <tt class="docutils literal"><span class="pre">&#64;nosent</span></tt> trees contain no <a class="reference" href="glossary.html#sentinels">sentinels</a>.
However, Leo create the <a class="reference" href="glossary.html#derived-file">derived file</a> just as in <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees.
In particular, Leo expands section references and understands the <tt class="docutils literal"><span class="pre">&#64;others</span></tt> directive.</li>
<li>Use <a class="reference" href="glossary.html#asis-trees">&#64;asis</a> trees.
Files derived from <tt class="docutils literal"><span class="pre">&#64;asis</span></tt> trees contain no <a class="reference" href="glossary.html#sentinels">sentinels</a>.
Moreover, Leo does not expand section references in <tt class="docutils literal"><span class="pre">asis</span></tt> trees.
In other words, Leo creates the <cite>derived file</cite> simply by writing all body text in outline order.
Leo can't update the outline unless the derived file contains sentinels,
so Leo does not update <tt class="docutils literal"><span class="pre">&#64;nosent</span></tt> trees or <tt class="docutils literal"><span class="pre">&#64;asis</span></tt> trees automatically when
you change the derived file in an external editor.</li>
</ul>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id11" id="how-do-i-prevent-leo-from-expanding-sections" name="how-do-i-prevent-leo-from-expanding-sections">How do I prevent Leo from expanding sections?</a></h3>
<p>You have two options, depending on whether you want sentinel lines in your
derived file or not.</p>
<ul class="simple">
<li>Use <a class="reference" href="glossary.html#noref">&#64;noref</a> trees.
Leo creates files derived from <tt class="docutils literal"><span class="pre">&#64;noref</span></tt> trees by writing all the nodes of the
tree to the derived file in outline order.
The derived file <em>does</em> contain some sentinels,
so you <em>can</em> update <tt class="docutils literal"><span class="pre">&#64;noref</span></tt> trees from changes made to derived files.</li>
<li>Use <a class="reference" href="glossary.html#asis-trees">&#64;asis</a> trees.
Files derived from <tt class="docutils literal"><span class="pre">&#64;asis</span></tt> trees contain no sentinels.
Leo creates the derived file simply by writing all body text in outline order.
Leo can't update the outline unless the derived file contains sentinels,
so Leo does not update <tt class="docutils literal"><span class="pre">&#64;asis</span></tt> trees automatically when you change the derived file in an external editor.</li>
</ul>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id12" id="how-can-i-create-javascript-comments" name="how-can-i-create-javascript-comments">How can I create Javascript comments?</a></h3>
<p><strong>Question</strong>: I'm writing a Windows Script Component, which is an XML file with
a CData section containing javascript. I can get the XML as I want it by using
<tt class="docutils literal"><span class="pre">&#64;language</span> <span class="pre">html</span></tt>, but how can I get the tangling comments inside the CData
section to be java-style comments rather than html ones?</p>
<p><strong>Answer</strong>: In <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees you use the <tt class="docutils literal"><span class="pre">&#64;delims</span></tt> <a class="reference" href="glossary.html#directive">directive</a> to change comment delimiters.
For example:</p>
<pre class="literal-block">
&#64;delims /* */
Javascript stuff
&#64;delims &lt;-- --&gt;
HTML stuff
</pre>
<p><strong>Important</strong>: Leo can not revert to previous delimiters automatically;
you must change back to previous delimiters using another <tt class="docutils literal"><span class="pre">&#64;delims</span></tt> <a class="reference" href="glossary.html#directive">directive</a>.</p>
<p>In <a class="reference" href="glossary.html#root">&#64;root</a> trees you can work around this problem using the <tt class="docutils literal"><span class="pre">&#64;silent</span></tt> <a class="reference" href="glossary.html#directive">directive</a>.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id13" id="how-can-i-disable-php-comments" name="how-can-i-disable-php-comments">How can I disable PHP comments?</a></h3>
<p>By Zvi Boshernitzan:
I was having trouble disabling <tt class="docutils literal"><span class="pre">&lt;?php</span></tt> with comments (and couldn't override the
comment character for the start of the page).
Finally, I found a solution that worked, using php's heredoc string syntax:</p>
<pre class="literal-block">
&#64;first &lt;?php
&#64;first $comment = &lt;&lt;&lt;EOD
EOD;

// php code goes here.
echo &quot;boogie&quot;;

$comment2 = &lt;&lt;&lt;EOD
&#64;last EOD;
&#64;last ?&gt;
</pre>
<p>or:</p>
<pre class="literal-block">
&#64;first &lt;?php
&#64;first /*
*/

echo &quot;hi&quot;;

&#64;delims /* */
&#64;last ?&gt;
</pre>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id14" id="how-can-i-use-leo-with-unsuppoorted-languages" name="how-can-i-use-leo-with-unsuppoorted-languages">How can I use Leo with unsuppoorted languages?</a></h3>
<p>Here is a posting which might be helpful:
<a class="reference" href="http://sourceforge.net/forum/message.php?msg_id=2300457">http://sourceforge.net/forum/message.php?msg_id=2300457</a> The <tt class="docutils literal"><span class="pre">&#64;first</span></tt>
<a class="reference" href="glossary.html#directive">directive</a> is the key to output usable code in unsupported languages. For
example, to use Leo with the Basic language, use the following:</p>
<pre class="literal-block">
&#64;first $IFDEF LEOHEADER
&#64;delims '
&#64;c
$ENDIF
</pre>
<p>So this would enable a basic compiler to &quot;jump&quot; over the &quot;true&quot; LEO-header-lines.
Like this:</p>
<pre class="literal-block">
$IFDEF LEOHEADER &lt;-conditional compilation directive
#&#64;+leo-ver=4 &lt;-these lines not compiled
#&#64;+node:&#64;file QParser005.INC
#&#64;&#64;first
#&#64;delims '
'&#64;&#64;c
$ENDIF &lt;-... Until here!
&lt;rest of derived code file ... &gt;
</pre>
<p>This changes the comment symbol the apostrophe,
making comments parseable by a BASIC (or other language.)</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id15" id="how-do-i-make-derived-files-start-with-a-shebang-line" name="how-do-i-make-derived-files-start-with-a-shebang-line">How do I make derived files start with a shebang line?</a></h3>
<p>Use the &#64;first <a class="reference" href="glossary.html#directive">directive</a> in <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees or <a class="reference" href="glossary.html#nosent">&#64;nosent</a> trees.
Use the &#64;silent directive in <a class="reference" href="glossary.html#root">&#64;root</a> trees.</p>
<p>The <tt class="docutils literal"><span class="pre">&#64;first</span></tt> directive puts lines at the very start of files derived from <tt class="docutils literal"><span class="pre">&#64;file</span></tt>.
For example, the body text of <tt class="docutils literal"><span class="pre">&#64;file</span> <span class="pre">spam.py</span></tt> might be:</p>
<pre class="literal-block">
&#64;first #! /usr/bin/env python
</pre>
<p>The body text of <tt class="docutils literal"><span class="pre">&#64;file</span> <span class="pre">foo.perl</span></tt> might be:</p>
<pre class="literal-block">
&#64;first #/usr/bin/perl
</pre>
<p>Leo recognizes the <tt class="docutils literal"><span class="pre">&#64;first</span></tt> <a class="reference" href="glossary.html#directive">directive</a> only at the start of the body text of <a class="reference" href="glossary.html#file-trees">&#64;file</a> nodes.
No text may precede <tt class="docutils literal"><span class="pre">&#64;first</span></tt> <a class="reference" href="glossary.html#directives">directives</a>.
More than one <tt class="docutils literal"><span class="pre">&#64;first</span></tt> directive may exist, like this:</p>
<pre class="literal-block">
&#64;first #! /usr/bin/env python
&#64;first # more comments.
</pre>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id16" id="how-do-i-use-leo-to-create-cweb-files" name="how-do-i-use-leo-to-create-cweb-files">How do I use Leo to create CWEB files?</a></h3>
<p>Leo has good support for <a class="reference" href="glossary.html#cweb">CWEB</a>.
<a class="reference" href="glossary.html#file-trees">&#64;file</a> trees can organize any part of CWEB code using <em>noweb</em> sections.
You can also use <a class="reference" href="glossary.html#asis-trees">&#64;asis</a>, <a class="reference" href="glossary.html#noref">&#64;noref</a> or <a class="reference" href="glossary.html#nosent">&#64;nosent</a> trees to create cweb files.
See <a class="reference" href="directives.html#cweb-mode">CWEB mode</a> for full details.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id17" id="can-file-trees-contain-material-not-in-the-derived-file" name="can-file-trees-contain-material-not-in-the-derived-file">Can &#64;file trees contain material not in the derived file?</a></h3>
<p>No.  Everything in an <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees must be part of the derived file: orphan and
<tt class="docutils literal"><span class="pre">&#64;ignore</span></tt> nodes are invalid in <tt class="docutils literal"><span class="pre">&#64;file</span></tt> trees. This restriction should not be
troublesome. For example, you can organize your outline like this:</p>
<pre class="literal-block">
+ myClass
..+ ignored stuff
..+ &#64;file myClass
</pre>
<p>(As usual, + denotes a headline.)
So you simply create a new <a class="reference" href="glossary.html#node">node</a>, called myClass, that holds your <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees and stuff you don't want in the <a class="reference" href="glossary.html#file-trees">&#64;file</a> trees.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id18" id="how-can-i-use-leo-with-older-c-compilers" name="how-can-i-use-leo-with-older-c-compilers">How can I use Leo with older C compilers</a></h3>
<p>By Rich Ries.
Some older C compilers don't understand the &quot;//&quot; comment symbol, so using <tt class="docutils literal"><span class="pre">&#64;language</span> <span class="pre">C</span></tt> won't work.
Moreover, the following does not always work either:</p>
<pre class="literal-block">
&#64;comment /* */
</pre>
<p>This generates the following sentinel line:</p>
<pre class="literal-block">
/*&#64;&#64;comment /* */*/&quot;
</pre>
<p>in the output file, and not all C compilers allow nested comments, so the last <tt class="docutils literal"><span class="pre">*\/</span></tt> generates an error.
The solution is to use:</p>
<pre class="literal-block">
#if 0
&#64;comment /* */
#endif
</pre>
<p>Leo is happy: it recognizes the <tt class="docutils literal"><span class="pre">&#64;comment</span></tt> <a class="reference" href="glossary.html#directive">directive</a>.
The C compiler is happy: the C preprocessor strips out the offending line before the C
compiler gets it.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id19" id="why-can-t-i-use-ignore-directives-in-thin-and-file-trees" name="why-can-t-i-use-ignore-directives-in-thin-and-file-trees">Why can't I use &#64;ignore directives in &#64;thin and &#64;file trees?</a></h3>
<p>The &#64;ignore directive can not be used elsewhere in &#64;thin trees and &#64;file trees
because of the way Leo recreates outlines from derived files. This is an
absolutely crucial restriction and will never go away.
For a few more details, see <a class="reference" href="history.html#leo-4-0-eliminating-error-recovery">Leo 4.0: Eliminating error 'recovery'</a> in <a class="reference" href="history.html">Chapter 9: History of Leo</a>.</p>
<p>There are several workaround, as shown in LeoPy.leo:</p>
<ul class="simple">
<li>keep notes in the outline outside of any derived file.</li>
<li>Use &#64;all to gather notes in a derived file, as in done in &#64;thin leoProjects.txt.</li>
</ul>
</div>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id20" id="customizing-leo" name="customizing-leo">Customizing Leo</a></h2>
<div class="section">
<h3><a class="toc-backref" href="#id21" id="how-can-i-add-support-for-a-new-language" name="how-can-i-add-support-for-a-new-language">How can I add support for a new language?</a></h3>
<p>See the instructions are in <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt> in:</p>
<pre class="literal-block">
``Notes:How To:How to add support for a new language section.
</pre>
<p>This section contains clones of all relevant parts of Leo that you will change.
Coming in Leo 4.4: Leo will use <tt class="docutils literal"><span class="pre">JEdit</span></tt>'s language description files to drive the syntax colorer.
To add support for a new language, just add another such description file.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id22" id="how-do-i-submit-a-plugin" name="how-do-i-submit-a-plugin">How do I submit a plugin?</a></h3>
<p>You have two options:</p>
<ul class="simple">
<li>Get cvs write access, and add the <a class="reference" href="glossary.html#thin-trees">&#64;thin</a> file to the plugins directory.</li>
<li>Just send the <a class="reference" href="glossary.html#thin-trees">&#64;thin</a> file to me at <a class="reference" href="mailto:edreamleo&#64;charter.net">edreamleo&#64;charter.net</a>.
That's all you need to do.  In particular that there is no need to change <tt class="docutils literal"><span class="pre">leoPlugins.leo</span></tt>.</li>
</ul>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id23" id="how-do-i-add-a-new-menu-item-from-a-plugin" name="how-do-i-add-a-new-menu-item-from-a-plugin">How do I add a new menu item from a plugin?</a></h3>
<p><tt class="docutils literal"><span class="pre">c.frame.menu.createMenuItemsFromTable</span></tt> will append items to the end of an existing menu.
For example, the following script will add a new item at the end of the 'File' menu:</p>
<pre class="literal-block">
def callback(*args,**keys):
    g.trace()

table = ((&quot;Test1&quot;,None,callback),)

c.frame.menu.createMenuItemsFromTable('File',table)
</pre>
<p>Plugins can do anything that can be done with <tt class="docutils literal"><span class="pre">Tk</span></tt> using the menu returned by <tt class="docutils literal"><span class="pre">c.frame.menu.getMenu</span></tt>.
For example, here is a script that adds a Test menu item after the 'Open With' menu item in the File menu:</p>
<pre class="literal-block">
def callback(*args,**keys):
    g.trace()

fileMenu = c.frame.menu.getMenu('File')

# 3 is the position in the menu.  Other kinds of indices are possible.
fileMenu.insert(3,'command',label='Test2',command=callback)
</pre>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id24" id="how-can-i-use-leo-s-legacy-key-bindings" name="how-can-i-use-leo-s-legacy-key-bindings">How can I use Leo's legacy key bindings?</a></h3>
<p>You can 'revert' to old key bindings as follows:</p>
<ol class="arabic simple">
<li>Open leoSettings.leo.</li>
<li>Find the node 'Keyboard shortcuts'.</li>
<li>Disable the old bindings by moving the node
<a class="reference" href="mailto:'&#64;keys">'&#64;keys</a> EKR bindings: Emacs keys + modes'
so that it is a child of the node:
<a class="reference" href="mailto:'&#64;ignore">'&#64;ignore</a> Unused key bindings'.</li>
<li>Notice that there are two child nodes of the node
<a class="reference" href="mailto:'&#64;ignore">'&#64;ignore</a> Unused key bindings'
that refer to legacy key bindings:<ul>
<li><a class="reference" href="mailto:'&#64;keys">'&#64;keys</a> Legacy Leo shortcuts with important Emacs bindings'</li>
<li><a class="reference" href="mailto:'&#64;keys">'&#64;keys</a> Legacy Leo bindings'.</li>
</ul>
</li>
<li>Move <strong>one</strong> of these two legacy nodes up one level so that it is a child of the node
'Keyboard shortcuts'.
It should <strong>not</strong> be a child of the node
<a class="reference" href="mailto:'&#64;ignore">'&#64;ignore</a> Unused key bindings'.</li>
</ol>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id25" id="how-can-i-enable-and-disable-support-for-psyco" name="how-can-i-enable-and-disable-support-for-psyco">How can I enable and disable support for psyco?</a></h3>
<p>Find the &#64;thin leoApp.py node in leoPy.leo.
In the ctor for the LeoApp class set <tt class="docutils literal"><span class="pre">self.use_psyco</span></tt> to True or False.
You will find this ctor in the node:</p>
<pre class="literal-block">
Code--&gt;Core classes...--&gt;&#64;thin leoApp.py--&gt;app.__init__
</pre>
<p>Note that this ivar can not be set using settings in leoSettings.leo because
Leo uses g.app.use_psyco before processing configuration settings.</p>
</div>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id26" id="tips-and-techniques" name="tips-and-techniques">Tips and techniques</a></h2>
<div class="section">
<h3><a class="toc-backref" href="#id27" id="how-can-i-use-leo-to-develop-leo-itself" name="how-can-i-use-leo-to-develop-leo-itself">How can I use Leo to develop Leo itself?</a></h3>
<p>The trick is to create a workflow that separates editing from testing. Putting
test code in <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt> would waste a lot of time. To run tests you would
have to exit Leo and reload <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt>. A much quicker way is to put all test
code in a <tt class="docutils literal"><span class="pre">test.leo</span></tt> file. So to change and test code, do the following:</p>
<ol class="arabic simple">
<li>Save <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt> but do <strong>not</strong> exit Leo.</li>
<li>Quit the copy of Leo running test.leo, then reload test.leo.</li>
<li>Run test scripts from test.leo.</li>
</ol>
<p>That's all. Python will recompile any changed .py files in the new copy of Leo.
<strong>Note</strong>: I create a batch file called t.bat that runs test.leo, so to the
&quot;edit-reload-test&quot; cycle is just:</p>
<ol class="arabic simple">
<li>Control-S (in <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt>: saves the .leo file)</li>
<li>t         (in a console window: runs test.leo, compiling all changed .py files as a side effect)</li>
<li>Control-E (in test.leo: runs the test script)</li>
</ol>
<p>The benefits of the new workflow:</p>
<ul class="simple">
<li>test.leo loads  _much_ more quickly than <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt> does.
This new approach can increase the speed of the edit-reload-test cycle by more than a factor of 10.
Hitting Control-S, t, Control-E takes about 5 seconds.</li>
<li><tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt> runs with the <em>old</em> code,
so it is much easier to fix syntax errors or exceptions in the <em>new</em> code:
just fix the problem and save <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt> <em>without</em> closing <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt>,
then restart test.leo.
You run your tests on the new code, but you edit the new code with the old, stable code.</li>
<li>test.leo is the perfect place to develop test.
I can create and organize those tests and when I am done, ''test.leo'' is a log of my work.</li>
</ul>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id28" id="how-can-i-import-many-files-at-once" name="how-can-i-import-many-files-at-once">How can I import many files at once?</a></h3>
<p>The Import Files dialog allows you to select multiple files provided you are running Python 2.3 or above.
There is also an importFiles script in <tt class="docutils literal"><span class="pre">LeoPy.leo</span></tt>.  You can use that script as follows:</p>
<pre class="literal-block">
import leoImport
leoImport.importFiles(aDirectory, &quot;.py&quot;)
</pre>
<p>This will import all .py files from aDirectory, which should be a full path to a particular directory.
You could use &quot;.c&quot; to import all .c files, etc.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id29" id="how-can-i-use-two-copies-of-leo-to-advantage" name="how-can-i-use-two-copies-of-leo-to-advantage">How can I use two copies of Leo to advantage?</a></h3>
<p>By Rich Ries.
I often rework C code that's already been &quot;Leo-ized&quot;--the first pass was quick
and dirty to get it going. When I do subsequent passes, I wind up with subnodes
that are out of order with the sequence found in the main <a class="reference" href="glossary.html#node">node</a>. It's not a big
deal, but I like 'em ordered. With just one editor pane, clicking on the <a class="reference" href="glossary.html#node">node</a> to
move would switch focus to that <a class="reference" href="glossary.html#node">node</a>. I'd then need to re-focus on the main
<a class="reference" href="glossary.html#node">node</a>. A minor nuisance, but it does slow you down.</p>
<p>My solution is to open a second editor with its focus on the main <a class="reference" href="glossary.html#node">node</a>. Switch
to the other editor, and, referring to the first editor pane, move the nodes as
you like. The second editor's pane will change focus to the <a class="reference" href="glossary.html#node">node</a> you're moving,
but the first editor will stay focused on the main <a class="reference" href="glossary.html#node">node</a>. It's a lot easier to
do than to describe!</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id30" id="how-can-i-display-graphics-in-leo" name="how-can-i-display-graphics-in-leo">How can I display graphics in Leo?</a></h3>
<p>One way is to link directly to the media file from a Leo <a class="reference" href="glossary.html#node">node</a> (with <tt class="docutils literal"><span class="pre">&#64;url</span></tt>)
and write a scriptbutton to wrap all URL-nodes under the current <a class="reference" href="glossary.html#node">node</a> in a
single HTML page (using the HTML browser trick at
<a class="reference" href="http://sourceforge.net/forum/forum.php?thread_id=1201579&amp;forum_id=10226">http://sourceforge.net/forum/forum.php?thread_id=1201579&amp;forum_id=10226</a>).</p>
<p>Then, you can view your media in two ways:</p>
<ul class="simple">
<li>Individually. You can directly click on the <tt class="docutils literal"><span class="pre">&#64;url</span></tt> link to display the media
in the browser (assuming you have your MIME/filetype associations set up
correctly for your browser).</li>
<li>In a group. You can click on a script button (you have to code this yourself,
very simple) which should collect all <tt class="docutils literal"><span class="pre">&#64;url</span></tt> <a class="reference" href="glossary.html#nodes">nodes</a> under the current <a class="reference" href="glossary.html#node">node</a>
and dynamically generate a HTML page displaying either links to or embedded
versions of the media (using the HTML trick described above to invoke the
browser). This way, you can create collections of <tt class="docutils literal"><span class="pre">&#64;url</span></tt> nodes under a
single <a class="reference" href="glossary.html#node">node</a> (like a bookmark folder), and press a single button to view the
<tt class="docutils literal"><span class="pre">&#64;url</span></tt> collection as a single entity in the browser (with all browser
capabilities like displaying the media).</li>
</ul>
<p>You could probably generalize this idea of &quot;collect all <tt class="docutils literal"><span class="pre">&#64;url</span></tt> nodes under current
<a class="reference" href="glossary.html#node">node</a> and display as HTML in browser&quot; into a general-purpose plugin. However,
the plugin would have to be somewhat smart in mapping a link to its corresponding
HTML code (e.g. an image link gets mapped to an &lt;img&gt; HTML tag, a link to a
Flash file gets mapped to an &lt;embed&gt; tag, etc).</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id31" id="how-can-i-create-a-template-leo-file" name="how-can-i-create-a-template-leo-file">How can I create a template .leo file?</a></h3>
<p><strong>Question</strong>:
It would be nice if Leo could open empty files. I tend to be &quot;document oriented&quot;
rather than &quot;application oriented&quot; in my thinking and prefer &quot;create empty file
at location -&gt; open it with program&quot; to &quot;start program -&gt; create new file -&gt;
save it at location&quot;.</p>
<p><strong>Answer</strong> by Paul Paterson:
If you are on Windows 98/2000/XP then the procedure is as follows...</p>
<ol class="arabic simple">
<li>Start Leo</li>
<li>Click New</li>
<li>Click Save as...</li>
<li>Save the file as &quot;c:windowsshellnewleofile.leo&quot; (or c:winnt for 2000/XP)</li>
<li>Open regedit &quot;start...run...regedit&quot;</li>
<li>Open HKEY_CLASSES_ROOT and find the &quot;.leo&quot; extension type</li>
<li>Go New ... Key from the context menu</li>
<li>Call the new key ShellNew</li>
<li>Select the new key, right-click, choose New...String Value from the context menu</li>
<li>Call it FileName</li>
<li>Double-click on the string, and modify it to be the filename of the leofile.leo file you created,
including the extension</li>
<li>Exit the registry editor and restart Windows Explorer (you may need to reboot on Windows 98)</li>
</ol>
<p>Now you should have a New:Leo File option in Explorer. This creates a duplicate
of the file you saved. This can be useful because you could make a template Leo
file containing some standard <a class="reference" href="glossary.html#nodes">nodes</a> that you always have and then save this.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id32" id="how-can-i-show-leo-files-with-excel" name="how-can-i-show-leo-files-with-excel">How can I show Leo files with Excel?</a></h3>
<p>From: <a class="reference" href="http://sourceforge.net/forum/message.php?msg_id=3240374">http://sourceforge.net/forum/message.php?msg_id=3240374</a>
Using Leo's <tt class="docutils literal"><span class="pre">File-Export-Flatten</span> <span class="pre">Outline</span></tt> commands creates a <tt class="docutils literal"><span class="pre">MORE</span></tt> style outline which places
all Leo body sections on the left margin.
The <a class="reference" href="glossary.html#headlines">headlines</a> are indented with tabs which Excel will read as a tab delimited format.
Once inside Excel there are benefits.</p>
<ol class="arabic">
<li><p class="first">The most obvious benefit inside Excel is that the body sections (Excel first
column) can be selected easily and highlighted with a different font color.
This makes the <tt class="docutils literal"><span class="pre">MORE</span></tt> format very readable. Save a copy of your sheet as HTML
and now you have a web page with the body sections highlighted.</p>
</li>
<li><p class="first">It is possible to hide columns in Excel.
Hiding the first column leaves just the headlines showing.</p>
</li>
<li><p class="first">Formulas based on searching for a string can do calculations in Excel.
For example if a heading <tt class="docutils literal"><span class="pre">&quot;Current</span> <span class="pre">Assets&quot;</span></tt> appears on level 4 then the body formula:</p>
<pre class="literal-block">
=INDEX(A:A,MATCH(&quot;Current Assets&quot;,D:D,0)+1)
</pre>
<p>will retrieve it.
The +1 after match looks down one row below the matched headline.
The trick is to place all your headlines in quotes because Excel will see <tt class="docutils literal"><span class="pre">+</span> <span class="pre">&quot;Current</span> <span class="pre">Assets&quot;</span></tt>
from the <tt class="docutils literal"><span class="pre">MORE</span></tt> outline.
When Excel tries without the quotes it thinks it is a range name and
displays a <tt class="docutils literal"><span class="pre">#N/A</span></tt> error instead of the headline.
Also you must place a child <a class="reference" href="glossary.html#node">node</a> below to get the + sign instead of a - sign which would give a
<tt class="docutils literal"><span class="pre">MORE</span></tt> headline of  <tt class="docutils literal"><span class="pre">-&quot;Current</span> <span class="pre">assets&quot;</span></tt> , also is an error.</p>
</li>
</ol>
<p>I think there is some interesting possibility here because of the enforcement of
Leo <a class="reference" href="glossary.html#body-text">body text</a> being always in the first column. The Leo outline provides
additional reference to organizing the problem not typical of spreadsheet
models. Beyond scripting in Python, Excel is good at doing interrelated
calculations and detecting problems like circular references. In Excel
Tools-Options-General is a setting for r1c1 format which then shows numbers
instead of letters for column references. Using this would allow entries like
this in the leo body:</p>
<pre class="literal-block">
1000
3500
=R[-1]C+R[-2]C
</pre>
<p>In Excel you would see 4500 below those two numbers. This is completely
independent of where the block of three cells exists on the sheet.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id33" id="how-can-i-reuse-button-nodes-in-multiple-files" name="how-can-i-reuse-button-nodes-in-multiple-files">How can I reuse &#64;button nodes in multiple files?</a></h3>
<p>By Rich Ries</p>
<p>There is no direct way to make script buttons available in multiple Leo files.
Sure, you could copy and paste the &#64;button nodes, but there is a slightly
easier way using the &quot;New Buttons&quot; plugin.</p>
<ol class="arabic simple">
<li>Create and test and debug your desired Script Button.</li>
<li>With the Script Button node selected, run Plugins --&gt; New buttons --&gt; Make Template From</li>
</ol>
<p>Open a new Leo file.</p>
<ol class="arabic simple" start="3">
<li>Assuming you have only the one New Button Template defined, left-click the
New button, and a new node will be added to your outline. (Otherwise, you'll
need to select the Template you want.)</li>
<li>Press [Script Button] to create the new script button.</li>
</ol>
<p>It's easier to <em>do</em> this than to <em>explain</em> it!</p>
</div>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id34" id="trouble-shooting" name="trouble-shooting">Trouble shooting</a></h2>
<div class="section">
<h3><a class="toc-backref" href="#id35" id="nothing-or-almost-nothing-happens-when-i-start-leo-what-should-i-do" name="nothing-or-almost-nothing-happens-when-i-start-leo-what-should-i-do">Nothing (or almost nothing) happens when I start Leo.  What should I do?</a></h3>
<p>Missing modules can cause installation problems.
If the installer doesn't work (or puts up a dialog containing no text), you may install Leo from the .zip file
as described at <a class="reference" href="install.html#how-to-install-leo-on-windows">How to install Leo on Windows</a>.
However you are installing Leo,
be sure to <a class="reference" href="#how-can-i-run-leo-from-a-console-window">run Leo from a console window</a>
because as a last resort Leo prints error messages to the console.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id36" id="i-can-t-run-leo-from-a-cvs-sandbox-what-s-going-on" name="i-can-t-run-leo-from-a-cvs-sandbox-what-s-going-on">I can't run Leo from a cvs sandbox.  What's going on?</a></h3>
<p>Leo's extensions folder contains Pmw in official distributions, but not in the
Cvs repository, so you won't be able to use a Leo in a sandbox unless you copy
Pmw to the extensions folder or have Pmw otherwise availble on Python's path.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id37" id="leo-s-recent-files-menu-doesn-t-work-from-a-cvs-shandbox-what-s-going-on" name="leo-s-recent-files-menu-doesn-t-work-from-a-cvs-shandbox-what-s-going-on">Leo's Recent Files menu doesn't work from a cvs shandbox.  What's going on?</a></h3>
<p>You must create .leoRecentFiles.txt in the config directory.
.leoRecentFiles.txt is part of the standard releases but is not part of the cvs repository.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id38" id="how-can-i-use-python-s-pdb-debugger-with-leo" name="how-can-i-use-python-s-pdb-debugger-with-leo">How can I use Python's pdb debugger with Leo?</a></h3>
<p>Just run Leo in a console window. At the point you want to drop into the
debugger, execute this line:</p>
<pre class="literal-block">
g.pdb()
</pre>
<p>All output from pdb goes to stdout, which is the console window. It would be
good to create a subclass of pdb.Pdb that uses Leo's log pane rather than a
console window, but I haven't done that. It could be done easily enough in a
plugin...</p>
<p><strong>Important</strong>: I recommend using g.trace instead of pdb.  For example:</p>
<pre class="literal-block">
g.trace(x)
</pre>
<p>prints the name of the function or method containing the trace, and the value of
x. g.callers is often very useful in combination with g.trace. g.callers(5)
returns the last 5 entries of the call stack. For example:</p>
<pre class="literal-block">
g.trace(x,g.callers(5))
</pre>
<p>Used this way, g.trace shows you patterns that will be invisible using pdb.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id39" id="how-can-i-run-leo-from-a-console-window" name="how-can-i-run-leo-from-a-console-window">How can I run Leo from a console window?</a></h3>
<p>Leo (and other programs) often send more detailed error messages to <tt class="docutils literal"><span class="pre">stderr</span></tt>,
the output stream that goes to the console window. In Linux and MacOS
environments, python programs normally execute with the console window visible.
On Windows, can run Leo with the console window visible by associating .leo
files with <tt class="docutils literal"><span class="pre">python.exe</span></tt> <em>not</em> <tt class="docutils literal"><span class="pre">pythonw.exe</span></tt>. For full instructions about how
to do this, see <a class="reference" href="install.html#how-to-associate-leo-with-leo-files-on-windows">Associating Leo with .leo Files</a>.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id40" id="some-characters-in-derived-files-look-funny-what-can-i-do" name="some-characters-in-derived-files-look-funny-what-can-i-do">Some characters in derived files look funny. What can I do?</a></h3>
<p>Internally, Leo represents all strings as unicode. Leo translates from a
particular encoding to <a class="reference" href="http://www.unicode.org/">Unicode</a> when reading .leo files or <a class="reference" href="glossary.html#derived-files">derived files</a>. Leo
translates from <a class="reference" href="http://www.unicode.org/">Unicode</a> to a particular encoding when writing <a class="reference" href="glossary.html#derived-files">derived files</a>. You
may see strange looking characters if your text editor is expecting a different
encoding. The encoding used in any <a class="reference" href="glossary.html#derived-file">derived file</a> is shown in the <tt class="docutils literal"><span class="pre">#&#64;+leo</span></tt> <a class="reference" href="glossary.html#sentinel">sentinel line</a>
like this:</p>
<pre class="literal-block">
#&#64;+leo-encoding=iso-8859-1.
</pre>
<p><strong>Exception</strong>: the encoding is <tt class="docutils literal"><span class="pre">UTF-8</span></tt> if no <tt class="docutils literal"><span class="pre">-encoding=</span></tt> field exists.
You can also use the <tt class="docutils literal"><span class="pre">&#64;encoding</span></tt> <a class="reference" href="glossary.html#directive">directive</a> to set the encoding for individual <a class="reference" href="glossary.html#derived-files">derived files</a>.
If no <tt class="docutils literal"><span class="pre">&#64;encoding</span></tt> <a class="reference" href="glossary.html#directive">directive</a> is in effect,
Leo uses the following <a class="reference" href="glossary.html#settings">settings</a> to translate to and from unicode:</p>
<dl class="docutils">
<dt>default_derived_file_encoding</dt>
<dd>The encoding used for derived files if no <tt class="docutils literal"><span class="pre">&#64;encoding</span></tt> <a class="reference" href="glossary.html#directive">directive</a> is in effect.
This setting also controls the encoding of files created by the <tt class="docutils literal"><span class="pre">Tangle</span></tt> commands.
The default is <tt class="docutils literal"><span class="pre">UTF-8</span></tt> (case not important).</dd>
<dt>new_leo_file_encoding</dt>
<dd><p class="first">The encoding specified in the following line of new .leo files:</p>
<pre class="literal-block">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&gt;
</pre>
<p class="last">The default is <tt class="docutils literal"><span class="pre">UTF-8</span></tt> (upper case for compatibility for old versions of Leo).
<strong>Important</strong>: once a .leo file is created the <tt class="docutils literal"><span class="pre">&lt;?xml...&quot;&gt;</span></tt> line can only be changed by hand.
This may cause unicode errors the next time the .leo file is loaded,
so you should change the <tt class="docutils literal"><span class="pre">&lt;?xml...&quot;&gt;</span></tt> line by hand only when first creating a .leo file.</p>
</dd>
<dt>tk_encoding</dt>
<dd><p class="first">The encoding that Leo uses to communicate with Tk text widgets.
You would typically use this setting only in an emergency.
The section called:</p>
<pre class="literal-block">
&lt;&lt; set app.tkEncoding &gt;&gt;
</pre>
<p>in app.finishCreate sets this encoding as follows:</p>
<ol class="loweralpha simple">
<li>using the <tt class="docutils literal"><span class="pre">tk_encoding</span></tt> setting if it exists,</li>
<li>using <tt class="docutils literal"><span class="pre">locale.getpreferredencoding</span></tt> if it exists,
or the equivalent code in pre-python 2.3 versions,</li>
<li>using <tt class="docutils literal"><span class="pre">sys.getdefaultencoding</span></tt></li>
<li>defaulting to <tt class="docutils literal"><span class="pre">&quot;utf-8&quot;</span></tt></li>
</ol>
<p class="last">Neither b nor c are guaranteed to give a valid encoding in all systems,
and Leo will ignore invalid encodings returned from b or c.
Therefore, setting the <tt class="docutils literal"><span class="pre">tk_encoding</span></tt> setting may be needed.</p>
</dd>
</dl>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id41" id="some-characters-are-garbled-when-importing-files-what-can-i-do" name="some-characters-are-garbled-when-importing-files-what-can-i-do">Some characters are garbled when importing files. What can I do?</a></h3>
<p>The encoding used in the file being imported doesn't match the encoding in effect for Leo.
You have two options:</p>
<ul class="simple">
<li>Use the <tt class="docutils literal"><span class="pre">&#64;encoding</span></tt> <a class="reference" href="glossary.html#directive">directive</a> in an ancestor of the <a class="reference" href="glossary.html#node">node</a> selected when
doing the <tt class="docutils literal"><span class="pre">Import</span></tt> <a class="reference" href="commands.html">command</a> to specify the encoding of file to be imported.</li>
<li>Set the <tt class="docutils literal"><span class="pre">tk_encoding</span></tt> <a class="reference" href="glossary.html#setting">setting</a> (see the previous answer) to the encoding you normally use.</li>
</ul>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id42" id="i-can-t-write-imported-files-what-s-going-on" name="i-can-t-write-imported-files-what-s-going-on">I can't write Imported files.  What's going on?</a></h3>
<p>The import commands insert <tt class="docutils literal"><span class="pre">&#64;ignore</span></tt> <a class="reference" href="glossary.html#directives">directives</a> in the top-level <a class="reference" href="glossary.html#node">node</a>.
Leo does this so that you won't accidentally overwrite your files after importing them.
Change the filename following <tt class="docutils literal"><span class="pre">&#64;file</span></tt> or <tt class="docutils literal"><span class="pre">&#64;root</span></tt> as desired,
then remove the <tt class="docutils literal"><span class="pre">&#64;ignore</span></tt> <a class="reference" href="glossary.html#directive">directive</a>.
Saving the outline will then create the <a class="reference" href="glossary.html#derived-file">derived file</a>.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id43" id="can-i-scroll-the-outline-pane-with-the-mouse-wheel" name="can-i-scroll-the-outline-pane-with-the-mouse-wheel">Can I scroll the outline pane with the mouse wheel?</a></h3>
<p>This is a known bug in Tk that prevents this on Windows. The obvious Tk code
causes a hard crash in the Python dll: it's the only time Leo has taken such a
hard crash. The <tt class="docutils literal"><span class="pre">UniversalScrolling</span></tt> plugin is an attempt at a workaround.</p>
<p>Scrolling with the mouse wheel may be possible on Linux. See the code in
createTkTreeCanvas in leoTkinterFrame.py</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id44" id="leo-is-hanging-on-my-linux-box-what-should-i-do" name="leo-is-hanging-on-my-linux-box-what-should-i-do">Leo is hanging on my Linux box.  What should I do?</a></h3>
<p>From: <a class="reference" href="http://sourceforge.net/forum/message.php?msg_id=1685399">http://sourceforge.net/forum/message.php?msg_id=1685399</a></p>
<p>When building Tcl on Linux, do not specify &quot;--enable-threads&quot;
Only use Tcl with the default &quot;threads not enabled&quot; case.</p>
<p>Here is how to build Tk without thread support:</p>
<ul class="simple">
<li>Go to www.tcl.tk, and download the sources for Tcl and Tk.</li>
<li>Build those two pack's as is told in the &quot;How to Compile Tcl Source Releases&quot;</li>
<li>Go to www.python.org and download your favorite Python (2.3.5 for me).</li>
<li>Build it as is told on the download page.</li>
<li>Enjoy using Leo on Linux.</li>
</ul>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id45" id="control-shift-backspace-doesn-t-work-what-should-i-do" name="control-shift-backspace-doesn-t-work-what-should-i-do">Control-Shift backspace doesn't work.  What should I do?</a></h3>
<p>By Dave Hein: The cause of the keymapping problem is a issue with the X11
keyboard mapping, not with Tk. If you have this problem on your system, issue
the command:</p>
<pre class="literal-block">
xmodmap -pke
</pre>
<p>and look in the results for the line for keycode 22. I'll bet it shows something like:</p>
<pre class="literal-block">
keycode 22 = BackSpace Terminate_Server
</pre>
<p>That second token (&quot;Terminate_Server&quot;) is what is supposed to be mapped to
Shift-Backspace. You want this second token to be either not present or to be
BackSpace. To fix this, create a file (e.g. .Xmodmap) and give it the content:</p>
<pre class="literal-block">
keycode 22 = BackSpace
</pre>
<p>then run the command:</p>
<pre class="literal-block">
xmodmap .Xmodmap
</pre>
<p>This fixes the problem. On my system this also disables the ability to terminate
the X server using Ctrl-Alt-BackSpace. This is because of some conflict with xdb
(xdb is the newer keyboard mapping facility in XFree86; xmodmap is the old
original X11 keyboard mapping facility). I'm still working on that. I'm also not
able to get xmodmap to make this change during X11 startup (again because of
conflicts with xdb). But I'm working on that as well.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id46" id="error-messages-from-the-rst3-plugin-aren-t-helpful-what-can-i-do" name="error-messages-from-the-rst3-plugin-aren-t-helpful-what-can-i-do">Error messages from the rst3 plugin aren't helpful. What can I do?</a></h3>
<p>For the most part, <a class="reference" href="http://docutils.sourceforge.net/">docutils</a> does a good job of reporting errors. <a class="reference" href="http://docutils.sourceforge.net/">docutils</a> prints
a message to the console and inserts an unmistakable error message in the
generated .html file. <strong>Important</strong>: On Windows it is helpful to <a class="reference" href="#how-can-i-run-leo-from-a-console-window">Run Leo from a
console window</a>.</p>
<p>However, in some cases, <a class="reference" href="http://docutils.sourceforge.net/">docutils</a> crashes instead of properly reporting the
problem. There are several workarounds:</p>
<ol class="arabic">
<li><p class="first">The crashes I have seen arise from the following bug in docutils.
<strong>Hyperlinks in image:: markup must be lower case</strong>.  This will work:</p>
<pre class="literal-block">
.. |back| image:: arrow_lt.gif
    :target: faq_
</pre>
<p>This will <strong>crash</strong>:</p>
<pre class="literal-block">
.. |back| image:: arrow_lt.gif
    :target: FAQ_
</pre>
<p>So avoid this crash by making sure to use lower case targets in <tt class="docutils literal"><span class="pre">:target:</span></tt> markup.</p>
</li>
<li><p class="first">You can change the <a class="reference" href="http://docutils.sourceforge.net/">docutils</a> source slightly so that it prints a traceback when it
crashes. (The rst3 plugin should be able to do this, but I haven't figured
out how yet.) It's easy enough to do this:</p>
<ul>
<li><p class="first">Find the file <tt class="docutils literal"><span class="pre">core.py</span></tt> in top-level <tt class="docutils literal"><span class="pre">docutils</span></tt> folder.
Typically this folder will be in Python's <tt class="docutils literal"><span class="pre">site-packages</span></tt> folder.</p>
</li>
<li><p class="first">Open <tt class="docutils literal"><span class="pre">core.py</span></tt> in some editor other than Leo.</p>
</li>
<li><p class="first">Find the method called <tt class="docutils literal"><span class="pre">report_Exceptions</span></tt>.</p>
</li>
<li><p class="first">Insert the following lines at the very start of this method:</p>
<pre class="literal-block">
print 'EKR: added traceback'
import traceback ; traceback.print_exc()
</pre>
</li>
</ul>
<p>This will cause a traceback whenever <a class="reference" href="http://docutils.sourceforge.net/">docutils</a> crashes. I have found that
such tracebacks are generally enough to locate the general area of the
problem. <strong>Note</strong>: These tracebacks go to the console window, so you should
<a class="reference" href="#how-can-i-run-leo-from-a-console-window">Run Leo from a console window</a>.</p>
</li>
<li><p class="first">As a last resort, you can isolate syntax errors by reducing your input files
until they work again, then adding sections until you get a crash. This is
easy enough to do (when using the <a class="reference" href="rstplugin3.html">rst3 plugin</a>) by change a headline <tt class="docutils literal"><span class="pre">x</span></tt> to
<tt class="docutils literal"><span class="pre">&#64;rst-ignore-tree</span> <span class="pre">x</span></tt>.</p>
</li>
</ol>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id47" id="the-new-python-decorator-syntax-causes-problems-what-can-i-do" name="the-new-python-decorator-syntax-causes-problems-what-can-i-do">The new Python decorator syntax causes problems.  What can I do?</a></h3>
<p>Python's <a class="reference" href="http://www.python.org/peps/pep-0318.html">decorator</a> syntax is ill-conceived.
This syntax file hack works well enough anyway to work with Leo <tt class="docutils literal"><span class="pre">&#64;</span></tt> markup:</p>
<pre class="literal-block">
syn region leoComment start=&quot;^&#64;\s*&quot; end=&quot;^&#64;c\s*$&quot;
syn match   pythonDecorator &quot;&#64;\S\S+&quot; display nextgroup=pythonFunction skipwhite
</pre>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id48" id="i-get-weird-results-when-defining-unicode-strings-in-scripts-what-is-going-on" name="i-get-weird-results-when-defining-unicode-strings-in-scripts-what-is-going-on">I get weird results when defining unicode strings in scripts.  What is going on?</a></h3>
<p>Constructs such as:</p>
<pre class="literal-block">
u = u'a-é-賢-z'
u = 'a-é-賢-z'
</pre>
<p>will not work when executed with Leo's execute script command. Indeed, the
Execute Script command creates the script by writing the tree containing the
script to a string. This is done using Leo's write logic, and this logic
converts the unicode input to a utf-8 encoded string. So <em>all non-ascii
characters</em> (including both the é and 賢 characters) get converted to their
equivalent in the utf-8 encoding. Call these encoding &lt;e1&gt; and &lt;e2&gt;. In effect
the script becomes:</p>
<pre class="literal-block">
u = u'a-&lt;e1&gt;-&lt;e2&gt;-z'
u = 'a-&lt;e2&gt;-&lt;e&gt;-z'
</pre>
<p>which is certainly <em>not</em> what the script writer intended!
Rather than defining strings using actual characters, Instead, one should use
the equivalent escape sequences. For example:</p>
<pre class="literal-block">
u = u'a-\u0233-\u8ce2-z'
u = 'a-\u0233-\u8ce2-z'
</pre>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id49" id="i-can-not-enter-non-ascii-characters-what-can-i-do" name="i-can-not-enter-non-ascii-characters-what-can-i-do">I can not enter non-ascii characters.  What can I do?</a></h3>
<p>Set &#64;bool ignore_unbound_non_ascii_keys = False in LeoSettings.leo or myLeoSettings.leo.</p>
</div>
<div class="section">
<h3><a class="toc-backref" href="#id50" id="leo-doesn-t-recognize-commands-with-the-caps-lock-key-down" name="leo-doesn-t-recognize-commands-with-the-caps-lock-key-down">Leo doesn't recognize commands with the caps-lock key down</a></h3>
<p>This is a known bug in Tk/Tkinter and there is no good workaround. Some
keyboards allow you to disable the caps-lock key.</p>
<hr class="docutils" />
<p><a class="reference" href="testimonials.html"><img alt="back" src="arrow_lt.gif" /></a> <a class="reference" href="front.html"><img alt="leo" src="leo.gif" /></a> <a class="reference" href="install.html"><img alt="next" src="arrow_rt.gif" /></a></p>
</div>
</div>
</div>
</div>
</body>
</html>
